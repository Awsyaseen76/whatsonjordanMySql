<!-- Navigation -->
    <nav class="navbar navbar-expand-md navbar-light bg-white sticky-nav-top">
      <div class="container-fluid">
        <div class="navbar-header ml-auto">
            <a class="navbar-brand" href="index.html">
              <img class="menu-logo" src="./img/logo/wojo2.jpg">
            </a>
            <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
        </div>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="#!/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#!/allEvents">Events</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#!/login" ng-show="!model.memberProfile">Login</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="" ng-click="model.logout()" ng-show="model.memberProfile">Logout</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" style="color: #DB685F;" href="#!/profile" ng-show="model.memberProfile">Profile</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#!/about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#!/contact">Contact</a>
						</li>
						<form class="form-inline my-2 my-lg-0" ng-show="model.allRoles.roles.length>1">
							<a class="btn btn-outline-success my-2 my-sm-0" href="#!/login">Switch profile</a>
						</form>
          </ul>
        </div>
      </div>
    </nav>
    <!-- <br><br> -->
<!-- /Navigation -->

<!-- Main container -->
<div class="container-top-125" style="margin-left: 50px; margin-right: 50px;">
		<div class="row" style="background-color: lightgrey;">
		<!-- Header including picture and  -->
		<div class="col-md-3" style="background-color: lightgreen; padding: 30px;">
			<img ng-src="{{model.memberProfile.contact.profileImage}}" class="mx-auto d-block profile-img">		
			<br>
			<h1 class="poiret-font" style="text-align: center;"><strong>{{model.memberProfile.contact.firstName}} {{model.memberProfile.contact.middleName}} {{model.memberProfile.contact.lastName}}</strong></h1>
			<div style="text-align: center;">
				<a class="btn btn-warning" href="#!/updateMemberProfile" > <i class="fas fa-pencil-alt"></i>Update profile</a>
			</div>
			<br>
			<h4><i class="fas fa-envelope"></i><span> {{model.memberProfile.email}}</span></h4>
			<h4><i class="fas fa-birthday-cake"></i> {{model.memberProfile.contact.DOB |date}}</h4>
			<h4><i class="fas fa-transgender"></i> {{model.memberProfile.contact.gender}}</h4>
			
			
			<h4><i class="fas fa-map-marked-alt"></i> {{model.memberProfile.contact.addresses[0].country}}, {{model.memberProfile.contact.addresses[0].province}} - {{model.memberProfile.contact.addresses[0].city}} - {{model.memberProfile.contact.addresses[0].street}} street</h4>
			<h4><i class="fas fa-graduation-cap"></i> {{model.memberProfile.contact.school.name}}</h4>
			<h4><i class="fas fa-user-graduate"></i> Grade: {{model.memberProfile.contact.grade.grade}}</h4>
			<h4><i class="fas fa-phone"></i> Phones list:</h4>
			<div style="margin-left:30px;">
				<ul ng-repeat="phone in model.memberProfile.contact.phones">
					<li>
						<h5><b>{{phone.type}}:</b></h5>
						<h5>{{phone.number}}</h5>
					</li>
				</ul>
			</div>
				<!-- <h5 style="text-indent: 30px;" ng-show="model.memberProfile.member.contact.fatherPhone">Father Phone: {{model.memberProfile.member.contact.fatherPhone}}</h5></li>
				<h5 style="text-indent: 30px;" ng-show="model.memberProfile.member.contact.motherPhone">Mother Phone: {{model.memberProfile.member.contact.motherPhone}}</h5></li>
				<h5 style="text-indent: 30px;" ng-show="model.memberProfile.member.contact.emergency">Emergency Phone: {{model.memberProfile.member.contact.emergency}}</h5></li>
				<h5 style="text-indent: 30px;" ng-show="model.memberProfile.member.contact.phone">Personal Phone:
					{{model.memberProfile.member.contact.phone}}</h5>
				</li> -->

				<!-- <h5 style="text-indent: 30px;" ng-show="model.memberProfile.contact.phone">{{model.memberProfile.contact.phone}}</h5></li> -->
			<!-- <h4 ng-show="model.memberProfile.medical.problemDetails"><i class="fas fa-briefcase-medical"></i> {{model.memberProfile.medical.problemDetails}}</h4>
			<h4 ng-show="model.memberProfile.notes"><i class="fas fa-sticky-note"></i> {{model.memberProfile.notes}}</h4>
			 -->
		</div>
		<div class="col-md-9" style="background-color: #F0F5EF; padding: 30px;">
			<h1 class="poiret-font" ><strong>Registered Events:</strong></h1>
			<hr>
			<!-- <div class="container"> -->
				<h2 class="poiret-font">Upcomming Program:</h2>
				<div class="row mb-1" ng-show="model.upcommingProgram.length > 0" ng-repeat="program in model.upcommingProgram">
			        <div class="col-md-12">
			          <div class="card mb-4 box-shadow h-md-250" style="background-color: #F0F5EF">
			            <div class="card-body d-flex flex-column align-items-start">
			              <h3 class="d-inline-block mb-2 text-warning">{{program.eventName}}:</h3>
			              <h5 class="mb-0">Title: {{program.title}}</h5>
										<div class="mb-1 text-muted">Date: {{program.date | date}}</div>
										<div class="text-muted">
											Session start time: {{program.sessionStartTime | date:'HH:mma'}} - 
											Session end time: {{program.sessionEndTime | date:'HH:mma'}}p>
										</div>
			              <p class="card-text mb-auto">Details: {{program.details}}</p>
				        	</div>
			            
			            <div class="video-container">
			            	<iframe width="400px;" height="100%" ng-src="{{model.trustedUrl(program.videoLink)}}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
									</div>
			          </div>
			        </div>
				</div>
				<div class="row">
					<div class="card border-success col-xl-4 aws-margin10" ng-repeat='event in model.registeredEventsList' style="max-width: 20rem;">
					  <div class="card-header text-danger"><h3>{{event.name}}</h3></div>
					  <div class="card-body">
					    <p class="card-title"><b>Category: </b>{{event.category.category}}</p>
					    <p class="card-title"><b>Starting date: </b>{{event.startingDate | date}}</p>
					    <p class="card-title"><b>Ending date: </b>{{event.expiryDate | date}}</p>
					    <p class="card-title"><b>Payments: </b>{{model.totalPayments(event._id, event.price).totals | currency:"JOD "}}</p>
					    <p class="card-title"><b>Balance: </b>{{model.totalPayments(event._id, event.price).balance | currency:"JOD "}}</p>
					    <p class="card-title"><b>Attended Days: </b>{{model.attendedDays(event._id).attended}}</p>
					    <p class="card-title"><b>Missed Days: </b>{{model.attendedDays(event._id).missed}}</p>
					  </div>
					</div>
				</div>
				<!-- Feedback -->
				<div>
					<div class="row" style="margin-top: 50px;">
						<div class="col-sm-12">
							<h3 class="text-success">Give us a feedback:</h3>
						</div>
						<div class="col-sm-6" style="margin: 5px;">
							<select ng-model="selectedEventId" class="custom-select" ng-options="event.id as event.name for event in model.registeredEventsList">
								<option value="" disabled >Select event...</option>
							</select>
						</div>
						<div class="col-sm-10" style="margin: 5px;">
							<textarea name="feedback" class="form-control" ng-model="feedbackText"></textarea>
						</div>
						<div class="col-sm-4" style="margin: 5px;">
							<a class="btn btn-success form-control" ng-click="model.submitFeedback(selectedEventId, feedbackText)" style="background-color: lightgreen">Submit</a>
						</div>
					</div>
					<div style="margin-top: 50px;">
						<h3 class="text-success">Previous feedbacks:</h3>
						<div ng-repeat="feed in model.memberFeedbacks">
							<h4><em>{{feed.event.name}}</em></h4>
							<p class="pull-right" style="margin: 0px; color: green;">{{feed.createdAt | date}}</p>
							<br>
							<h5>"{{feed.details}}"</h5>
							<hr>
						</div>
					</div>
					<!-- /Feedback -->
				</div>
			<!-- </div> -->
		</div>
	</div>		
</div>		

